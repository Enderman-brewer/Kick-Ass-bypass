># Kick Ass - Destroy the web
>### Bypass by Enderman-brewer
>##### Original at [The Kick Ass website](https://kickassapp.com/)

The original has you put this in your bookmarks bar and click it on the website you want to play your game
```
javascript:var KICKASSVERSION='2.0';var s = document.createElement('script');s.type='text/javascript';document.body.appendChild(s);s.src='//hi.kickassapp.com/kickass.js';void(0);
```

But the issue is that `hi.kickassapp.com/kickass.js` is not available everywhere like public networks, so I'm working on a bypass.

Try dragging this to your bookmarks bar
[Kick Ass Bypass](javascript:void%20function(){(function(a){var%20b=Math.min,c=Math.PI,d=Math.sqrt,e=Math.sin,f=Math.cos,g=Math.max,h=Math.floor;function%20j(){return%20a%26%26a.INSTALL_SCOPE%3Fa.INSTALL_SCOPE:a}function%20k(){return%20new%20Date().getTime()}function%20l(a,b){return%20function(){return%20b.apply(a,arguments)}}function%20m(b,c,d){if(%22function%22==typeof%20b.forEach)return%20b.forEach(c,d),b;for(var%20e%20in%20b)b.hasOwnProperty(e)%26%26c.call(d||a,b[e],e);return%20b}function%20n(b,c,d){b.addEventListener%3Fb.addEventListener(c,d,!1):b.attachEvent%26%26(b[%22e%22+c+d]=d,b[c+d]=function(){return%20b[%22e%22+c+d](a.event)},b.attachEvent(%22on%22+c,b[c+d]))}function%20o(a,b,c){a.removeEventListener%3Fa.removeEventListener(b,c,!1):a.detachEvent%26%26(a.detachEvent(%22on%22+b,a[b+c]),a[b+c]=null,a[%22e%22+b+c]=null)}function%20q(a){a.stopPropogation%26%26a.stopPropogation(),a.preventDefault%26%26a.preventDefault(),a.returnValue=!1}function%20r(a,b){return%20element.contains%3Fa.contains(b):!!(16%26a.compareDocumentPosition(b))}function%20s(a){var%20b={38:%22up%22,40:%22down%22,37:%22left%22,39:%22right%22,27:%22esc%22};return%20b[a]%3Fb[a]:String.fromCharCode(a)}function%20t(a,b){return%20h(Math.random()*(b-a+1)+a)}function%20u(b){if(%22function%22==typeof%20b.getBoundingClientRect){var%20c=b.getBoundingClientRect(),d=a.pageXOffset,e=a.pageYOffset;return{width:c.width,height:c.height,left:c.left+d,top:c.top+e}}for(var%20c={width:b.offsetWidth,height:b.offsetHeight,left:0,top:0},f=b;f;)c.left+=f.offsetLeft,c.top+=f.offsetTop,f=f.offsetParent;return%20c}function%20v(){var%20a=document;return%20a.compatMode%26%26%22CSS1Compat%22!=a.compatMode%3Fa.body:a.documentElement}function%20w(){var%20a=v(),b={x:a.clientWidth,y:a.clientHeight},c=document.body;return{x:g(a.scrollWidth,c.scrollWidth,b.x),y:g(a.scrollHeight,c.scrollHeight,b.y)}}function%20x(a,b){for(var%20c%20in%20b)if(b.hasOwnProperty(c)){var%20d=b[c];%22number%22==typeof%20d%26%26%22opacity%22!==c%26%26%22zIndex%22!==c%26%26(d+=%22px%22),a.style[c]=d}}function%20y(a,b){return%20a.className.match(new%20RegExp(%22(\\s|^)%22+b+%22(\\s|$)%22))}function%20z(a,b){y(a,b)||(a.className+=%22%20%22+b)}function%20A(a,b){if(y(a,b)){var%20c=new%20RegExp(%22(\\s|^)%22+b+%22(\\s|$)%22);a.className=a.className.replace(c,%22%20%22)}}function%20B(a){return%20a.cloneNode(!0)}function%20C(a,b){var%20c=document.createElement(a);for(var%20d%20in%20b)b.hasOwnProperty(d)%26%26(%22styles%22===d%3Fx(c,b[d]):c[d]=b[d]);return%20c}function%20D(a,b,c){return%20setTimeout(l(c,b),a)}function%20E(){return%20pa.KICKASS_CONTAINER_ELEMENT%3Fdocument.getElementById(pa.KICKASS_CONTAINER_ELEMENT):document.body}var%20F=function(){function%20a(a){var%20b=document.createElement(%22script%22),d=!1;b.src=a,b.async=!0,b.onload=b.onreadystatechange=function(){d||this.readyState%26%26%22loaded%22!==this.readyState%26%26%22complete%22!==this.readyState||(d=!0,b.onload=b.onreadystatechange=null,b%26%26b.parentNode%26%26b.parentNode.removeChild(b))},c||(c=document.getElementsByTagName(%22head%22)[0],!c%26%26(c=document.body)),c.appendChild(b)}function%20b(b,c,h){for(e%20in%20d=%22%3F%22,c=c||{},c)c.hasOwnProperty(e)%26%26(d+=encodeURIComponent(e)+%22=%22+encodeURIComponent(c[e])+%22%26%22);var%20i=%22json%22+%20++f;return%20g[i]=function(a){h(a);try{delete%20g[i]}catch(a){}g[i]=null},a(b+d+%22callback=%22+i),i}var%20c,d,e,f=0,g=this;return{get:b}}(),G={request:function(b,c,d){if(this.calledByExtension())return%20this._callbacks[this._callbackId++]=d,void%20a.postMessage(JSON.stringify({from:%22kickassapp-page%22,url:b,type:%22callApi%22,params:c}),%22*%22);c=c||{};var%20e=%22%3F%22;for(key%20in%20c)c.hasOwnProperty(key)%26%26(e+=encodeURIComponent(key)+%22=%22+encodeURIComponent(c[key])+%22%26%22);var%20f=new%20XMLHttpRequest;f.onreadystatechange=function(){4==f.readyState%26%26d(JSON.parse(f.responseText))},f.open(%22GET%22,b+e),f.withCredentials=!0,f.setRequestHeader(%22Content-Type%22,%22application/json%22),f.send()},calledByExtension:function(){return!!document.getElementById(%22kickass-has-been-initialized-yes-yes-yes%22)},_callbacks:{},_callbackId:0};G.calledByExtension()%26%26a.addEventListener(%22message%22,function(b){var%20c;try{c=JSON.parse(b.data)}catch(a){return}if(%22kickassapp-extension%22===c.from%26%26%22kickassapp-extension-version1%22===c.sanityCheck){var%20d=c.payload;%22response%22===d.type%3F(G._callbacks[d.requestId](d.body),delete%20G._callbacks[d.requestId]):%22destroy%22===d.type%26%26a.KICKASSGAME.destroy()}},!1);var%20H=function(a){var%20b=function(){return%20b.$prototyping%3Fthis:%22function%22==typeof%20this.initialize%3Fthis.initialize.apply(this,arguments):void%200};for(var%20c%20in%20a.Extends%26%26(b.parent=a.Extends,a.Extends.$prototyping=!0,b.prototype=new%20a.Extends,a.Extends.$prototyping=!1),a)a.hasOwnProperty(c)%26%26(b.prototype[c]=a[c]);return%20b};%22undefined%22!=typeof%20exports%26%26(exports.Class=H);var%20I=new%20H({initialize:function(a,b){%22object%22==typeof%20a%3F(this.x=a.x,this.y=a.y):(this.x=a,this.y=b)},cp:function(){return%20new%20I(this.x,this.y)},mul:function(a){return%20this.x*=a,this.y*=a,this},mulNew:function(a){return%20new%20I(this.x*a,this.y*a)},div:function(a){return%20this.x/=a,this.y/=a,this},divNew:function(a){return%20new%20I(this.x/a,this.y/a)},add:function(a){return%20this.x+=a.x,this.y+=a.y,this},addNew:function(a){return%20new%20I(this.x+a.x,this.y+a.y)},sub:function(a){return%20this.x-=a.x,this.y-=a.y,this},subNew:function(a){return%20new%20I(this.x-a.x,this.y-a.y)},rotate:function(a){var%20b=this.x,c=this.y;return%20this.x=b*f(a)-e(a)*c,this.y=b*e(a)+f(a)*c,this},rotateNew:function(a){return%20this.cp().rotate(a)},setAngle:function(a){var%20b=this.len();return%20this.x=f(a)*b,this.y=e(a)*b,this},setAngleNew:function(a){return%20this.cp().setAngle(a)},setLength:function(a){var%20b=this.len();return%20b%3Fthis.mul(a/b):this.x=this.y=a,this},setLengthNew:function(a){return%20this.cp().setLength(a)},normalize:function(){var%20a=this.len();return%200==a%3Fthis:(this.x/=a,this.y/=a,this)},normalizeNew:function(){return%20this.cp().normalize()},angle:function(){return%20Math.atan2(this.y,this.x)},collidesWith:function(a){return%20this.x%3Ea.x%26%26this.y%3Ea.y%26%26this.x%3Ca.x+a.width%26%26this.y%3Ca.y+a.height},len:function(){var%20a=d(this.x*this.x+this.y*this.y);return%20.005%3Ea%26%26-.005%3Ca%3F0:a},is:function(a){return%22object%22==typeof%20a%26%26this.x==a.x%26%26this.y==a.y},dot:function(a){return%20this.x*a.x+this.y*a.y},inTriangle:function(d,a,b){var%20c=b.subNew(d),e=a.subNew(d),f=p.subNew(d),g=c.dot(c),h=c.dot(e),i=c.dot(f),j=e.dot(e),k=e.dot(f),l=1/(g*j-h*h),m=(j*i-h*k)*l,n=(g*k-h*i)*l;return%200%3Cm%26%260%3Cn%26%261%3Em+n},distanceFrom:function(a){var%20b=Math.pow;return%20d(b(this.x-a.x,2),b(this.y-a.y,2))},toString:function(){return%22[Vector(%22+this.x+%22,%20%22+this.y+%22)%20angle:%20%22+this.angle()+%22,%20length:%20%22+this.len()+%22]%22}});%22undefined%22!=typeof%20exports%26%26(exports.Vector=I);var%20J=new%20H({initialize:function(a,b,c,d){this.pos=new%20I(a,b),this.size={width:c,height:d}},hasPoint:function(a){return%20a.x%3Ethis.getLeft()%26%26a.x%3Cthis.getRight()%26%26a.y%3Ethis.getTop()%26%26a.y%3Cthis.getBottom()},setLeft:function(a){this.pos.x=a+this.size.width/2},setTop:function(a){this.pos.y=a+this.size.height/2},getLeft:function(){return%20this.pos.x-this.size.width/2},getTop:function(){return%20this.pos.y-this.size.height/2},getRight:function(){return%20this.pos.x+this.size.width/2},getBottom:function(){return%20this.pos.y+this.size.height/2},cp:function(){return%20new%20J(this.pos.x,this.pos.y,this.size.width,this.size.height)}});%22undefined%22!=typeof%20exports%26%26(exports.Rect=J);var%20K=new%20H({initialize:function(){this.listeners=[],this.tweens={},this.running={}},addListener:function(a){this.listeners.push(a)},add:function(a,b){if(b=b||{},b.duration=b.duration||500,b.transition=b.transition||i.Linear,b.repeats=%22undefined%22!=typeof%20b.repeats%26%26b.repeats,!b.tweens){var%20c=b.start||0,d=%22undefined%22==typeof%20b.end%3F1:b.end;b.tweens=[[c,d]]}this.tweens[a]=b},update:function(a){for(var%20b%20in%20a=%22number%22==typeof%20a%3Fa:k(),this.tweens)if(this.tweens.hasOwnProperty(b)){if(!this.running[b]){this.tweenStart(b,a);continue}var%20c=this.tweens[b],d=a-this.running[b].startTime;if(d%3Ec.duration){this.tweenFinished(c,b);continue}for(var%20e,f,g=c.transition(d/c.duration),h=[],j=0;e=c.tweens[j];j++)f=g*(e[1]-e[0])+e[0],h.push(f);this.fire(b,h,g)}},tweenStart:function(a,b){this.running[a]={startTime:b};for(var%20c,d=[],e=0;c=this.tweens[a].tweens[e];e++)d.push(c[0]);this.fire(a,d,0)},tweenFinished:function(a,b){for(var%20c,d=[],e=0;c=a.tweens[e];e++)d.push(c[1]);return%20this.fire(b,d,1),a.repeats%3Fvoid%20this.tweenStart(b,k()):(delete%20this.running[b],void%20delete%20this.tweens[b])},fire:function(a,b,c){for(var%20d,e=0;d=this.listeners[e];e++)d.set.call(d,a,b,c)}}),i={Linear:function(a){return%20a},Quadratic:function(a){return%20a*a},Quintic:function(a){return%20a*a*a},Shake:function(a){return%20e(a)}},L={FPS:60,useAnimationFrame:!1,boids:{flockRadius:400,size:100},path:function(){return%22https://kickassapp.com/%22+Array.prototype.slice.call(arguments).join(%22%22)},hasCanvas:%22undefined%22!=typeof%20document.createElement(%22canvas%22).getContext,bulletColor:%22black%22};a.GameGlobals=L,Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var%20b=Math.abs;if(void%200===this||null===this)throw%20new%20TypeError;var%20c=Object(this),d=c.length%3E%3E%3E0;if(0===d)return-1;var%20e=0;if(0%3Carguments.length%26%26(e=+arguments[1],e===e%3F0!==e%26%26e!==1/0%26%26e!==-(1/0)%26%26(e=(0%3Ce||-1)*h(b(e))):e=0),e%3E=d)return-1;for(var%20f=0%3C=e%3Fe:g(d-b(e),0);f%3Cd;f++)if(f%20in%20c%26%26c[f]===a)return%20f;return-1});var%20M=function(){return%20a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b,c){a.setTimeout(b,1e3/60)}}(),N=new%20H({initialize:function(b){b%26%26b.mySite%26%26(this.mySite=b.mySite),this.players=[],this.elements=[],this.weaponClass=la[1].cannonClass,this.scrollPos=new%20I(0,0),this.scrollSize=new%20I(0,0),this.windowSize={width:0,height:0},this.updateWindowInfo(),this.bulletManager=new%20_(this),this.bulletManager.updateEnemyIndex(),this.explosionManager=new%20ba(this),this.ui=new%20S(this),this.bombManager=new%20Y(this),this.menuManager=new%20R(this),this.menuManager.create(),%22undefined%22!=typeof%20O%26%26(this.statisticsManager=new%20O(this)),this.sessionManager=new%20aa(this),this.lastUpdate=k(),this.keyMap={},this.keydownEvent=l(this,this.keydown),this.keyupEvent=l(this,this.keyup),this.multiplier=10,this.audioManager=this.isCampaign()%3F{explosion:new%20T(L.path(%22static/sounds/game/explosion%22),[%22mp3%22,%22ogg%22]),shot:new%20T(L.path(%22static/sounds/game/shot%22),[%22mp3%22,%22ogg%22])}:{},a.KickAssStyle%26%26%22white%22===a.KickAssStyle%26%26(L.bulletColor=%22white%22),n(document,%22keydown%22,this.keydownEvent),n(document,%22keyup%22,this.keyupEvent),n(document,%22keypress%22,this.keydownEvent)},begin:function(){this.addPlayer(),this.sessionManager.isPlaying=!0,L.useAnimationFrame||(this.loopTimer=a.setInterval(l(this,this.loop),1e3/L.FPS)),L.useAnimationFrame%26%26M(l(this,this.loop))},keydown:function(a){var%20b=s(a.keyCode);this.keyMap[b]=!0;%22left%22===b||%22right%22===b||%22up%22===b||%22down%22===b||%22esc%22===b||%22%20%22===b%3Fq(a):void%200;%22esc%22===b%3Fthis.destroy():void%200},keyup:function(a){var%20b=s(a.keyCode);this.keyMap[b]=!1;%22left%22===b||%22right%22===b||%22up%22===b||%22down%22===b||%22esc%22===b||%22%20%22===b%3F(a.stopPropogation%26%26a.stopPropogation(),a.preventDefault%26%26a.preventDefault(),a.returnValue=!1):void%200},loop:function(){var%20a=k(),b=(a-this.lastUpdate)/1e3;this.updateWindowInfo();for(var%20c,d=0;c=this.players[d];d++)c.update(b);this.bulletManager.update(b),this.bombManager.update(b),this.explosionManager.update(b),this.ui.update(b),this.statisticsManager%26%26this.statisticsManager.update(b),this.sessionManager.update(b),this.lastUpdate=a,L.useAnimationFrame%26%26M(l(this,this.loop))},addPlayer:function(){var%20b=!1,c=U.Standard;a.KICKASSSHIP%26%26a.KICKASSSHIP.points%26%26(c=KICKASSSHIP),this.mySite%26%26this.mySite.getShipConfig()%26%26(c=this.mySite.getShipConfig());var%20d=new%20W(this);d.setShip(c),this.players.push(d),this.explosionManager.addExplosion(d.pos)},registerElement:function(a){if(!a)throw%20new%20Error(%22Can't%20register%20unexisting%20element.%22);this.elements.push(a)},unregisterElement:function(a){this.elements.splice(this.elements.indexOf(a),1)},isKickAssElement:function(a){for(var%20b,c=0;b=this.elements[c];c++)if(a===b||r(b,a))return!0;return!1},isKeyPressed:function(a){return!!this.keyMap[a]},updateWindowInfo:function(){var%20b=!!a.ActiveXObject%26%26%22BackCompat%22==document.compatMode;this.windowSize={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight},b%26%26(this.windowSize.width=document.body.clientWidth,this.windowSize.height=document.body.clientHeight),this.menuManager%26%26this.menuManager.isVisible()%26%26(this.windowSize.height-=this.menuManager.getHeight()),this.scrollPos.x=a.pageXOffset||document.documentElement.scrollLeft,this.scrollPos.y=a.pageYOffset||document.documentElement.scrollTop,this.scrollSize=w()},hideAll:function(){for(var%20a,b=0;a=this.elements[b];b++)a.style.visibility=%22hidden%22},showAll:function(){for(var%20a,b=0;a=this.elements[b];b++)a.style.visibility=%22visible%22},updateShips:function(a,b){b||this.ui.showMessage(%22You're%20now%20flying%3Cbr%20/%3E%3Cem%3E%22+a.name+%22%3Cem%3E!!%22);for(var%20c,d=0;c=this.players[d];d++)c.setShip(a)},changeWeapon:function(a,b){this.weaponClass=a.cannonClass,b||this.ui.showMessage(%22Changed%20to%20%22+a.name.toUpperCase()+%22!!!!%22);for(var%20c,d=0;c=this.players[d];d++)c.setCannons(a.cannonClass)},changeWeaponById:function(a,b){la[a]%26%26this.changeWeapon(la[a],b)},flyOutPlayers:function(a,b){for(var%20c,d=0;c=this.players[d];d++)c.flyTo(a,-c.size.height),c.isBound=!1},flyInPlayers:function(){for(var%20a,b=0;a=this.players[b];b++)a.flyTo(a.pos.x,100,function(){this.isBound=!0})},newRank:function(a){this.ui.showMessage(%22OMG.%20You%20leveled%20up%20to:%20%3Cstrong%3E%22+a+%22%3C/strong%3E!%3Cbr%20/%3E%3Csmall%3EBe%20sure%20to%20check%20what%20cool%20new%20stuff%20you%20get%20in%20the%20menu.%3C/small%3E%22)},fireBomb:function(){this.bombManager.blow()},destroy:function(){o(document,%22keydown%22,this.keydownEvent),o(document,%22keypress%22,this.keydownEvent),o(document,%22keyup%22,this.keyupEvent);for(var%20a,b=0;a=this.players[b];b++)a.destroy();this.bulletManager.destroy(),this.explosionManager.destroy(),this.menuManager.destroy(),L.useAnimationFrame||clearInterval(this.loopTimer),j().KICKASSGAME=!1,this.isCampaign()%26%26document.location.reload()},isCampaign:function(){return%20j().IS_CLOUDFLARE_GAME},isMySite:function(){return!!j().KICKASS_SITE_KEY},shouldShowAd:function(){return!this.mySite%26%26!this.isCampaign()},shouldShowMenu:function(){return!this.mySite%26%26!this.isCampaign()},shouldShowHowToImage:function(){return%20this.mySite||this.isCampaign()}});a.KickAss=N;var%20O=new%20H({initialize:function(a){this.game=a,this.data={},this.data.startedPlaying=k(),this.data.elementsDestroyed=0,this.data.shotsFired=0,this.data.distanceFlownInPixels=0,this.data.totalPointsThisSession=0,this.data.usedThrusters=0,this.lastUpdate=0},usedThrusters:function(){this.data.usedThrusters=1},increaseDistanceWithPixels:function(a){this.data.distanceFlownInPixels+=a},increasePointsGainedWithPoints:function(a){this.data.totalPointsThisSession+=a},addShotFired:function(){this.data.shotsFired++,this.game.audioManager.shot%26%26this.game.audioManager.shot.play()},addElementsDestroyed:function(){this.data.elementsDestroyed++},update:function(a){this.lastUpdate+=a,.25%3Cthis.lastUpdate%26%26(this.syncWithServer(),this.lastUpdate=0)},syncWithServer:function(){var%20a=[];for(var%20b%20in%20this.data)this.data.hasOwnProperty(b)%26%26a.push(b+%22:%22+this.data[b]);this.game.menuManager.sendMessageToMenu(%22stats:!%22+a.join(%22|%22))}}),P=new%20H({initialize:function(a){this.key=a},load:function(a){G.request(L.path(%22mysite/api.json%22),{site_key:this.key,url:document.location.toString()},l(this,function(b){b%26%26b.embed%3F(this.mySiteData=b.embed,a(!0)):a(!1)}))},install:function(){},getShipId:function(){return%20this.mySiteData%26%26this.mySiteData.settings.ship},getShipConfig:function(){return%20this.mySiteData%26%26this.mySiteData.settings.ship_config},getShareURL:function(){return%20this.mySiteData%26%26this.mySiteData.settings.share_url}}),Q=new%20H({initialize:function(a){this.game=a,this.size={height:300}},generate:function(b){this.container=document.createElement(%22div%22),this.container.className=%22KICKASSELEMENT%22,this.container.id=%22kickass-profile-menu%22,b.appendChild(this.container);var%20c=j().KICKASSSHIPID||%22%22;this.url=L.path(%22intermediate_postmessage.html%3Furl=%22+encodeURIComponent(j().KICKASSURL||document.location.href)+%22%26origin=%22+encodeURIComponent(document.location.href)+%22%26preship=%22+c+%22%26is_campaign=%22+(this.game.isCampaign()%3F%22true%22:%22%22)+%22%26is_mysite=%22+(this.game.isMySite()%3F%22true%22:%22%22)),this.isSocketReady=!1,this.socketIframe=document.createElement(%22iframe%22),this.socketIframe.frameborder=%220%22,this.socketIframe.className=%22KICKASSELEMENT%22,this.socketIframe.width=%22100%25%22,this.socketIframe.height=this.size.height+%22px%22,this.container.appendChild(this.socketIframe),this.menuOrigin=%22https://kickassapp.com/%22.replace(/\/$/,%22%22),this.socketIframe.src=this.url,this.onMessage=l(this,function(a){if(a.origin!==this.menuOrigin%26%26a.origin!==this.menuOrigin.replace(%22http://%22,%22https://%22))return%20void%20console.log(%22ignoring%20event%20from%22,a.origin);var%20b=a.data;if(%22ready%22===b)return%20void%20this.onGameReady();var%20c=b.split(%22:!%22);if(2===c.length){var%20d=c.shift().replace(/^./g,function(a){return%20a.charAt(0).toUpperCase()});%22function%22==typeof%20this[%22messageType%22+d]%26%26this[%22messageType%22+d](c.join(%22:!%22))}}),a.addEventListener(%22message%22,this.onMessage,!1),this.game.registerElement(this.container)},socketPostMessage:function(a){this.socketIframe.contentWindow.postMessage(a,this.menuOrigin)},onGameReady:function(){this.isSocketReady=!0,this.game.registerElement(this.container.getElementsByTagName(%22iframe%22)[0]),this.socketPostMessage(%22url:!%22+(j().KICKASSURL||document.location.href)),this.game.statisticsManager%26%26this.game.statisticsManager.syncWithServer(),this.game.menuManager.onGameReady()},sendMessage:function(a){if(this.isSocketReady%26%26a!=this.lastMessage){try{this.socketPostMessage(a)}catch(a){}this.lastMessage=a}},messageTypeChangeShip:function(b){b=b.split(%22,%22);var%20c=b[0],d=b[1],e=%22initial%22===b[2];this.shipId===c||e%26%26j().KICKASSSHIP||(this.shipId=c,G.request(L.path(%22designer/ship/%22+c+%22/construction.json%22),{ship_id:c,is_initial:e%3F%221%22:%220%22},l(this,function(b){this.game.updateShips(b.data,e);try{a.focus()}catch(a){}})),!e%26%26this.parent.hideMenu())},messageTypeChangeWeapon:function(a,b){this.game.changeWeaponById(a,b)},messageTypeSetMultiplier:function(a){a=parseInt(a,10);isNaN(a)||!a||(this.game.multiplier=a)},messageTypeNewRank:function(a){this.game.newRank(a)},messageTypePlayerMessage:function(a){this.game.ui.showMessage(a)},destroy:function(){this.game.unregisterElement(this.container),this.game.unregisterElement(this.iframe),a.removeEventListener(%22message%22,this.onMessage,!1),this.container.parentNode.removeChild(this.container)}}),R=new%20H({initialize:function(a){this.game=a,this.numPoints=0,j().KICKASS_INLINE_CSS||this.includeCSS(L.path(%22css/menustyles.css%22))},generateDefaults:function(){for(var%20a%20in%20la)la.hasOwnProperty(a)%26%26this.addWeapon(la[a],a);this.hideBombMenu()},create:function(){this.container=document.createElement(%22div%22),this.container.className=%22KICKASSELEMENT%20KICKASShidden%20%22+(this.game.shouldShowMenu()%3F%22%22:%22KICKASSNOMENU%22),this.container.id=%22kickass-menu%22,this.game.shouldShowMenu()%3F(this.container.style.bottom=%22-250px%22,this.container.style.display=%22none%22):A(this.container,%22KICKASShidden%22),E().appendChild(this.container);var%20a=this.game.shouldShowAd()%3F%22%3Ciframe%20style=\%22background:%20transparent\%22%20src=\%22%22+L.path(%22hello.html%22)+%22\%22%20class=\%22KICKASSELEMENT\%22%20id=\%22kickass-hello-sunshine\%22%3E%3C/iframe%3E%22:%22%22;this.container.innerHTML=%22%3Cdiv%20id=\%22kickass-howto-image\%22%20class=\%22KICKASSELEMENT%20kickass-howto-invisible\%22%3E%3C/div%3E%3Cdiv%20id=\%22kickass-pointstab\%22%20class=\%22KICKASSELEMENT\%22%3E%22+a+%22%3Cdiv%20id=\%22kickass-bomb-menu\%22%20class=\%22KICKASSELEMENT%20KICKASShidden\%22%3E%3Cul%20id=\%22kickass-bomb-list\%22%20class=\%22KICKASSELEMENT\%22%3E%3C/ul%3E%3C/div%3E%3Cdiv%20id=\%22kickass-weapons-menu\%22%20class=\%22KICKASSELEMENT%20KICKASShidden\%22%20style=\%22display:none\%22%3E%3Cul%20id=\%22kickass-weapons-list\%22%20class=\%22KICKASSELEMENT\%22%3E%3C/ul%3E%3C/div%3E%3Cdiv%20id=\%22kickass-pointstab-wrapper\%22%20class=\%22KICKASSELEMENT\%22%3E%3Cdiv%20id=\%22kickass-points\%22%20class=\%22KICKASSELEMENT\%22%3E%22+this.numPoints+%22%3C/div%3E%3Cdiv%20id=\%22kickass-esctoquit\%22%20class=\%22KICKASSELEMENT\%22%3EPress%20esc%20to%20quit%3C/div%3E%22+this.getShareHTML()+%22%3C/div%3E%3Cul%20id=\%22kickass-pointstab-menu\%22%20class=\%22KICKASSELEMENT\%22%20%22+(this.game.shouldShowMenu()%3F%22%22:%22style=\%22display:none\%22%22)+%22%3E%3Cli%20class=\%22KICKASSELEMENT\%22%3E%3Ca%20class=\%22KICKASSELEMENT\%22%20id=\%22kickass-link-highscores\%22%20href=\%22%23\%22%3ESubmit%20score%3C/a%3E%3C/li%3E%3Cli%20class=\%22KICKASSELEMENT\%22%3E%3Ca%20class=\%22KICKASSELEMENT\%22%20id=\%22kickass-link-menu\%22%20href=\%22%23\%22%3EMenu%3C/a%3E%3C/li%3E%3Cli%20class=\%22last-li%20KICKASSELEMENT\%22%3E%3Ca%20class=\%22KICKASSELEMENT\%22%20id=\%22kickass-link-ships\%22%20href=\%22%23\%22%3ESwitch%20ship%3C/a%3E%3C/li%3E%3C/ul%3E%3C/div%3E%22,this.pointsTab=document.getElementById(%22kickass-pointstab%22),this.pointsTabWrapper=document.getElementById(%22kickass-pointstab-wrapper%22),this.points=document.getElementById(%22kickass-points%22),this.escToQuit=document.getElementById(%22kickass-esctoquit%22),this.howToImage=document.getElementById(%22kickass-howto-image%22),this.weaponsMenu=document.getElementById(%22kickass-weapons-menu%22),this.weaponsList=document.getElementById(%22kickass-weapons-list%22),this.bombLink=document.getElementById(%22kickass-bomb-menu%22),this.submitScoreLink=document.getElementById(%22kickass-link-highscores%22),this.menuLink=document.getElementById(%22kickass-link-menu%22),this.switchShipLink=document.getElementById(%22kickass-link-ships%22);for(var%20b=this.container.getElementsByTagName(%22*%22),c=0;c%3Cb.length;c++)this.game.registerElement(b[c]);this.game.registerElement(this.container),this.game.shouldShowMenu()%3F(this.menu=new%20Q(this.game),this.menu.parent=this,this.menu.generate(this.container)):setTimeout(function(){this.onGameReady()}.bind(this),100),n(this.submitScoreLink,%22click%22,l(this,function(a){q(a),this.navigateTo(%22highscores%22)})),n(this.menuLink,%22click%22,l(this,function(a){q(a),this.toggleMenu(),this.navigateTo(%22main%22,!0)})),n(this.switchShipLink,%22click%22,l(this,function(a){q(a),this.navigateTo(%22ships%22)})),n(this.bombLink,%22click%22,l(this,function(a){q(a),this.game.fireBomb()})),n(this.pointsTabWrapper,%22click%22,l(this,this.toggleMenu)),n(this.weaponsMenu,%22click%22,l(this,this.toggleWeaponsMenu)),this.generateDefaults()},getShareHTML:function(){if(%22undefined%22!=typeof%20j().KICKASS_SHARE_URL){if(j().KICKASS_SHARE_URL){var%20a=encodeURIComponent(j().KICKASS_SHARE_URL);return%22%3Ciframe%20class=\%22KICKASSELEMENT%20kickass-like\%22%20src=\%22//www.facebook.com/plugins/share_button.php%3Fhref=%22+a+%22%26amp;send=false%26amp;layout=button%26amp;width=47%26amp;show_faces=false%26amp;action=like%26amp;colorscheme=dark%26amp;font=arial%26amp;height=21\%22%20scrolling=\%22no\%22%20frameborder=\%220\%22%20style=\%22border:none;%20overflow:hidden;%20width:80px;%20height:21px;\%22%20allowTransparency=\%22true\%22%3E%3C/iframe%3E%22}return%22%22}var%20a=%22https://www.facebook.com/kickassapp%22;if(this.game.mySite)if(this.game.mySite.getShareURL())a=this.game.mySite.getShareURL();else%20return%22%22;return%22%3Ciframe%20class=\%22KICKASSELEMENT%20kickass-like\%22%20src=\%22//www.facebook.com/plugins/like.php%3Fhref=%22+encodeURIComponent(a)+%22%26amp;send=false%26amp;layout=button_count%26amp;width=47%26amp;show_faces=false%26amp;action=like%26amp;colorscheme=dark%26amp;font=arial%26amp;height=21\%22%20scrolling=\%22no\%22%20frameborder=\%220\%22%20style=\%22border:none;%20overflow:hidden;%20width:80px;%20height:21px;\%22%20allowTransparency=\%22true\%22%3E%3C/iframe%3E%22},onGameReady:function(){this.container.style.display=%22block%22,this.game.shouldShowHowToImage()%26%26(setTimeout(l(this,function(){A(this.howToImage,%22kickass-howto-invisible%22)}),10),setTimeout(l(this,function(){z(this.howToImage,%22kickass-howto-invisible%22)}),4e3))},navigateTo:function(a,b){b||this.showMenu(),this.menu%26%26this.menu.socketPostMessage(%22navigate:!%22+a)},toggleMenu:function(){this.game.shouldShowMenu()%3Fy(this.container,%22KICKASShidden%22)%3Fthis.showMenu():this.hideMenu():this.showMenu()},toggleWeaponsMenu:function(){y(this.weaponsMenu,%22KICKASShidden%22)%3Fthis.showWeaponsMenu():this.hideWeaponsMenu()},hideWeaponsMenu:function(){this.weaponsMenu.style.width=%22%22,z(this.weaponsMenu,%22KICKASShidden%22)},showWeaponsMenu:function(){var%20a=this.weaponsMenu.getElementsByTagName(%22li%22);a=a[a.length-1],this.weaponsMenu.style.width=a.offsetLeft+a.offsetWidth-47+%22px%22,A(this.weaponsMenu,%22KICKASShidden%22)},showMenu:function(){this.game.shouldShowMenu()%26%26(this.container.style.bottom=%22%22,A(this.container,%22KICKASShidden%22))},hideMenu:function(){this.container.style.bottom=%22%22,z(this.container,%22KICKASShidden%22)},showBombMenu:function(){this.bombLink.style.width=%22%22},hideBombMenu:function(){this.bombLink.style.width=%220px%22},getHeight:function(){return%20this.container.clientHeight},isVisible:function(){return!y(this.container,%22KICKASShidden%22)},addPoints:function(a,b){var%20c=a*this.game.multiplier;this.numPoints+=c,this.points.innerHTML=this.numPoints,this.game.statisticsManager%26%26this.game.statisticsManager.increasePointsGainedWithPoints(c),this.game.ui.addPointsBubbleAt(b,c)},includeCSS:function(a){var%20b=document.createElement(%22link%22);b.rel=%22stylesheet%22,b.type=%22text/css%22,b.href=a,(document.head||document.body).appendChild(b)},sendMessageToMenu:function(a){this.menu%26%26this.menu.sendMessage(a)},addWeapon:function(a,b){var%20c=document.createElement(%22li%22);c.className=%22KICKASSELEMENT%20kickass-weapon-item%22,c.weapon=a,c.style.backgroundImage=%22url(%22+L.path(%22css/gfx/kickass/weap-%22+a.id+%22.png%22)+%22)%22,c.innerHTML=%22%3Cspan%20class=\%22KICKASSELEMENT\%22%3E%22+a.name+%22%3C/span%3E%22,this.weaponsList.appendChild(c),n(c,%22click%22,l(this,function(c){q(c),this.changeWeapon(a),this.sendMessageToMenu(%22changeWeapon:!%22+b)}))},changeWeapon:function(a){this.game.changeWeapon(a)},destroy:function(){for(var%20a=this.container.getElementsByTagName(%22*%22),b=0;b%3Ca.length;b++)this.game.unregisterElement(a[b]);this.game.unregisterElement(this.container),this.menu%26%26this.menu.destroy(),this.container.parentNode.removeChild(this.container)}}),S=new%20H({initialize:function(a){this.UNIQID=0,this.game=a,this.pointBubbles={},this.messages={},this.fx=new%20K,this.fx.addListener(this)},update:function(a){this.fx.update()},set:function(a,b,c){var%20d=a.split(%22-%22)[0],e=a.split(%22-%22)[1];if(this.pointBubbles[e]){var%20f=this.pointBubbles[e];f.style.top=b[0]+%22px%22,f.style.opacity=b[1],1==c%26%26f.parentNode%26%26(f.parentNode.removeChild(f),delete%20this.pointBubbles[e])}else%20if(this.messages[e]%26%26%22messagedown%22==d){var%20g=this.messages[e];g.style.top=b[0]+%22px%22,1==c%26%26setTimeout(l(this,function(){this.fx.add(%22messageup-%22+e,{tweens:[[b[0],-100]],transition:i.Quadratic,duration:300})}),g.staytime||4e3)}else%20if(this.messages[e]%26%26%22messageup%22==d){var%20g=this.messages[e];g.style.top=b[0]+%22px%22,1==c%26%26(g.parentNode.removeChild(g),delete%20this.messages[e])}},addPointsBubbleAt:function(a,b){var%20c=%22bubble%22+this.UNIQID++,d=this.game.scrollPos.y+a.y,e=C(%22span%22,{innerHTML:b,className:%22KICKASSELEMENT%22,styles:{position:%22absolute%22,font:%2220px%20Arial%22,fontWeight:%22bold%22,opacity:%221%22,color:%22black%22,textShadow:%22%23fff%201px%201px%203px%22,top:d,zIndex:%2210000000%22}});e.style.left=a.x-e.offsetWidth/2+%22px%22,E().appendChild(e),this.pointBubbles[c]=e,this.fx.add(%22bubble-%22+c,{tweens:[[d,d-15],[1,0]]})},showMessage:function(a,b){b=b||!1;var%20c=300,d=this.UNIQID++,e=C(%22div%22,{innerHTML:a,className:%22KICKASSELEMENT%22,id:%22kickass-message-%22+d,styles:{position:%22fixed%22,top:-100,left:%2250%25%22,marginLeft:-150,width:300,background:%22%23222%22,opacity:.8,padding:%2210px%22,color:%22%23fff%22,textAlign:%22center%22,borderRadius:15,font:%2220px%20Arial%22,fontWeight:%22bold%22,zIndex:%2210000000%22}});e.staytime=b,E().appendChild(e);var%20f=this.getLowestBubbleY();return%20e.kickassto=f,this.fx.add(%22messagedown-%22+d,{duration:300,tweens:[[-100,f]],transition:i.Quadratic}),this.messages[d]=e,e},getLowestBubbleY:function(){var%20a=100;for(var%20b%20in%20this.messages)this.messages.hasOwnProperty(b)%26%26(a=g(this.messages[b].kickassto+this.messages[b].offsetHeight+10,a));return%20a}}),T=new%20H({initialize:function(a,b){if(this.src=a,this.formats=b,channels=8,this.supportsAudio=%22undefined%22!=typeof%20document.createElement(%22audio%22).play,this.supportsAudio){this.numChannels=channels,this.channels=[];for(var%20c=0;c%3Cthis.numChannels;c++)this.channels.push({isPlaying:!1,element:this.prepareElement(this.buildAudioElement())})}},buildAudioElement:function(){for(var%20a,b,c={ogg:%22audio/ogg%22,mp3:%22audio/mpeg%22},d=document.createElement(%22audio%22),e=0;a=this.formats[e];e++)b=document.createElement(%22source%22),b.src=this.src+%22.%22+a,b.type=c[a],d.appendChild(b);return%20d},prepareElement:function(a){if(%22undefined%22==typeof%20a.addEventListener)return%20a;var%20b=this;return%20a.addEventListener(%22ended%22,function(c){b.audioEnded(a)},!1),a},audioEnded:function(a){for(var%20b,c=0;b=this.channels[c];c++)b.element===a%26%26(b.isPlaying=!1)},play:function(){if(this.supportsAudio)for(var%20a,b=0;a=this.channels[b];b++)if(!a.isPlaying)return%20a.isPlaying=!0,void(%22function%22==typeof%20a.element.play%26%26a.element.play())}}),U={Standard:{points:[[-10,10],[0,-15],[10,10]],thrusters:[{s:{w:20,h:7},p:{x:0,y:14},a:0}],cannons:[{p:{x:0,y:-15},a:0}]}},V=0,W=new%20H({initialize:function(a){this.id=V++,this.game=a,this.tween=!1,this.isBound=!0,this.pos=new%20I(200,200),this.vel=new%20I(0,0),this.acc=new%20I(0,0),this.dir=new%20I(0,1),this.currentRotation=0,this.isBroken=!1,this.lineOffsets=[],this.deadTime=0,this.friction=.8,this.terminalVelocity=2e3,this.lastPos=new%20I(0,0)},setShip:function(a){this.ship=a,this.verts=[];for(var%20b,c=0;b=this.ship.points[c];c++)this.verts.push(new%20I(b[0],b[1]));this.verts.push(this.verts[0]),this.thrusters=[],this.cannons=[],this.addThrusters(this.ship.thrusters),this.addCannons(this.ship.cannons),this.size=this.getSizeFromVertsAndObjects(),this.bounds=this.calculateBounds(),this.sheet%26%26this.sheet.destroy(),this.sheet=new%20oa(new%20J(100,100,this.bounds.x,this.bounds.y)),this.forceRedraw=!0},setCannons:function(a){for(var%20b,c,d=[],e=0;b=this.cannons[e];e++)c=new%20a(this,this.game,b.pos.x,b.pos.y,b.angle),d.push(c),b.destroy();this.cannons=d},addThrusters:function(a){for(var%20b,c,d=0;b=a[d];d++)c=new%20X(b),this.thrusters.push(c)},addCannons:function(a){for(var%20b,c=0;b=a[c];c++){var%20d=ma[b.m]||ma.cannon,e=new%20d.cannonClass(this,this.game,b.p.x,b.p.y,b.a);e.player=this,e.game=this.game,this.cannons.push(e)}},update:function(a){if(this.isBroken){if(!this.lineOffsets.length)for(var%20b=0;b%3Cthis.verts.length-1;b++)this.lineOffsets[b]={pos:new%20I(0,0),dir:new%20I(1,1).setAngle(2*c*Math.random())};for(var%20b=0;b%3Cthis.lineOffsets.length;b++)this.lineOffsets[b].pos.add(this.lineOffsets[b].dir.cp().setLength(50).mul(a));return%20this.sheet.clear(),this.sheet.setAngle(this.dir.angle()),this.sheet.setPosition(this.pos),this.sheet.drawBrokenPlayer(this.verts,this.lineOffsets),void(1e3%3Ck()-this.deadTime%26%26(this.isBroken=!1,this.lineOffsets=[],this.randomPos()))}this.tween||(this.game.isKeyPressed(%22left%22)||this.game.isKeyPressed(%22right%22)%3F(this.game.isKeyPressed(%22left%22)%26%26this.rotateLeft(a),this.game.isKeyPressed(%22right%22)%26%26this.rotateRight(a)):this.stopRotate(),this.game.isKeyPressed(%22up%22)%3Fthis.activateThrusters():this.stopThrusters()),this.game.isKeyPressed(%22%20%22)%3F(this.isShooting=!0,!this.isBroken%26%26this.shootPressed()):this.isShooting%26%26(this.isShooting=!1,this.shootReleased()),this.currentRotation%26%26this.dir.setAngle(this.dir.angle()+this.currentRotation*a);var%20d=this.acc.mulNew(a).sub(this.vel.mulNew(a*this.friction));this.vel.add(d),this.vel.len()%3Ethis.terminalVelocity%26%26this.vel.setLength(this.terminalVelocity);var%20e=this.vel.mulNew(a);this.pos.add(e),this.game.statisticsManager%26%26this.game.statisticsManager.increaseDistanceWithPixels(e.len());for(var%20f,g=!this.acc.is({x:0,y:0}),b=0;f=this.thrusters[b];b++)f.setIsShown(g),f.update(a);if(this.isBound%26%26this.checkBounds(),!this.lastPos.is(this.pos)||this.currentRotation||this.forceRedraw){if(this.forceRedraw=!1,this.sheet.clear(),this.sheet.setAngle(this.dir.angle()+c/2),this.sheet.setPosition(this.pos),g)for(var%20f,b=0;f=this.thrusters[b];b++)f.drawTo(this.sheet);this.sheet.drawPlayer(this.verts),this.lastPos=this.pos.cp()}for(var%20h,b=0;h=this.cannons[b];b++)h.update(a)},randomPos:function(){var%20a=this.game.windowSize.width,b=this.game.windowSize.height;this.pos=new%20I(t(0,a),t(0,b))},checkBounds:function(){if(!this.tween){var%20b=this.game.windowSize.width,c=this.game.windowSize.height,d=this.pos.x+this.sheet.rect.size.width/2,e=this.pos.y+this.sheet.rect.size.height/2;d%3Eb%3F(a.scrollTo(this.game.scrollPos.x+50,this.game.scrollPos.y),this.pos.x=0):0%3Ethis.pos.x%26%26(a.scrollTo(this.game.scrollPos.x-50,this.game.scrollPos.y),this.pos.x=b-this.sheet.rect.size.width/2),e%3Ec%3F(a.scrollTo(this.game.scrollPos.x,this.game.scrollPos.y+.75*c),this.pos.y=0):0%3Ethis.pos.y%26%26(a.scrollTo(this.game.scrollPos.x,this.game.scrollPos.y-.75*c),this.pos.y=c-this.sheet.rect.size.height/2)}},inRect:function(a){for(var%20b,c=!1,d=0;b=this.verts[d];d++)a.hasPoint(new%20I(b.x+this.pos.x,b.y+this.pos.y))%26%26(c=!0);return%20c},hit:function(a){this.isBroken||(this.isBroken=!0,this.deadTime=k())},activateThrusters:function(){this.game.statisticsManager%26%26this.game.statisticsManager.usedThrusters(),this.acc=new%20I(500,0).setAngle(this.dir.angle())},stopThrusters:function(){this.acc=new%20I(0,0)},rotateLeft:function(a){this.currentRotation=g(2*-c,this.currentRotation-10*c*a)},rotateRight:function(a){this.currentRotation=b(2*c,this.currentRotation+10*c*a)},stopRotate:function(){this.currentRotation=0},getSizeFromVertsAndObjects:function(){for(var%20a,b=0,c=0;a=this.verts[c];c++)b=g(b,new%20I(a).len());for(var%20d,c=0;d=this.thrusters[c];c++){var%20e=new%20I(d.pos.x-d.size.width/2,d.pos.y-d.size.height/2).rotate(d.angle),f=new%20I(d.pos.x+d.size.width/2,d.pos.y-d.size.height/2).rotate(d.angle),h=new%20I(d.pos.x-d.size.width/2,d.pos.y+d.size.height/2).rotate(d.angle),j=new%20I(d.pos.x+d.size.width/2,d.pos.y+d.size.height/2).rotate(d.angle);b=g(b,e.len(),f.len(),h.len(),j.len())}return{width:2*b,height:2*b}},calculateBounds:function(){return{x:1*g(this.size.width,this.size.height),y:1*g(this.size.height,this.size.width)}},shootPressed:function(){for(var%20a,b=0;a=this.cannons[b];b++)a.shootPressed()},shootReleased:function(){for(var%20a,b=0;a=this.cannons[b];b++)a.shootReleased()},flyTo:function(a,b,c){this.tween={start:{pos:this.pos.cp(),dir:this.dir.cp()},to:new%20I(a,b),callback:c||function(){}},this.tween.time=this.getTimeforTween()},destroy:function(){this.sheet.destroy()}}),X=new%20H({initialize:function(a,b){this.pos=new%20I(a.p),this.size={width:a.s.w,height:a.s.h},this.angle=a.a||0,this.ship=b,this.isShown=!1,this.flameY=1,this.fx=new%20K,this.fx.addListener(this),this.flames={r:[],y:[]},this.lastFrameUpdate=0,this.generateFlames()},update:function(a){this.fx.update(),k()-this.lastFrameUpdate%3E1e3/60%26%26this.generateFlames()},set:function(a,b){%22flames%22===a%3Fthis.flameY=b:void%200},setIsShown:function(a){!this.isShown%26%26a%26%26(this.flameY=0,this.generateFlames(),this.fx.add(%22flames%22,{start:this.flameY,end:1,duration:250,transition:i.Quintic})),this.isShown=a},drawTo:function(a){a.drawFlames(this.flames,this.angle)},generateFlames:function(){function%20a(a,b){return%20new%20I(a,b)}var%20b=this.size.width,c=.05*this.size.width,d=.8*this.size.width,e=.1*d,f=b/2,g=d/2,h=-this.size.height/2,j=0,l=this.pos.x,m=this.pos.y-this.size.height/2;this.flames.r=[a(-f+l,m)],this.flames.y=[a(-g+l,m)],this.flames.self=this;for(var%20n=0;n%3Cb;n+=c)this.flames.r.push(a(n-f+l,this.flameY*t(.7*this.size.height,this.size.height)+m));this.flames.r.push(a(f+l,m));for(var%20n=0;n%3Cd;n+=e)this.flames.y.push(a(n-g+l,this.flameY*t(.4*this.size.height,.7*this.size.height)+m));this.flames.y.push(a(g+l,m)),this.lastFrameUpdate=k();for(var%20o,q=a(l,m),r=0;o=this.flames.r[r];r++)o.sub(q).rotate(this.angle).add(q);for(var%20o,r=0;o=this.flames.y[r];r++)o.sub(q).rotate(this.angle).add(q)}}),Y=new%20H({initialize:function(a){this.game=a,this.bombShowDelay=30,this.nextBomb=this.bombShowDelay},update:function(a){this.game.isKeyPressed(%22F%22)%26%26this.isReady()%26%26this.blow();-1!==this.nextBomb%26%26this.game.sessionManager.isPlaying%26%26(this.nextBomb-=a,0%3Ethis.nextBomb%26%26(this.game.menuManager.showBombMenu(),this.nextBomb=-1,this.game.ui.showMessage(%22BOMB%20IS%20READY%3Cbr%20/%3E(lower%20right%20corner%20or%20F)%22)))},blow:function(){var%20a=this.game.ui.showMessage(%223...%22,5e3);D(1e3,function(){a.innerHTML=%222...%22},this),D(2e3,function(){a.innerHTML=%221...%22},this),D(3e3,function(){a.innerHTML=%22boom%22},this),D(3e3,this.blowStuffUp,this),this.nextBomb=this.bombShowDelay},blowStuffUp:function(){this.game.bulletManager.updateEnemyIndex();for(var%20a,b=this.game.bulletManager.enemyIndex,c=0;(a=b[c])%26%2610%3Ec;c++){var%20d=u(a),e=new%20I(d.left+d.width/2,d.top+d.height/2);this.game.explosionManager.addExplosion(e,a,ja),a.parentNode.removeChild(a)}this.game.menuManager.hideBombMenu(),this.nextBomb=this.bombShowDelay},isReady:function(){return-1===this.nextBomb}}),Z=[%22BR%22,%22SCRIPT%22,%22STYLE%22,%22TITLE%22,%22META%22,%22HEAD%22,%22OPTION%22,%22OPTGROUP%22,%22LINK%22],$=5,_=new%20H({initialize:function(a){this.game=a,this.lastBlink=0,this.blinkActive=!1,this.enemyIndex=[],this.updateDelay=2.5,this.nextUpdate=this.updateDelay},update:function(a){this.game.isKeyPressed(%22B%22)%3Fthis.blink():this.blinkActive%26%26this.endBlink(),this.nextUpdate-=a,0%3Ethis.nextUpdate%26%26this.updateEnemyIndex()},blink:function(){if(250%3Ck()-this.lastBlink){for(var%20a,b=0;a=this.enemyIndex[b];b++)a.style.outline=this.blinkActive%3Fa.KICKASSOLDBORDER:%221px%20solid%20red%22;this.blinkActive=!this.blinkActive,this.lastBlink=k(),this.blinkActive||this.updateEnemyIndex()}},endBlink:function(){for(var%20a,b=0;a=this.enemyIndex[b];b++)a.style.outline=a.KICKASSOLDBORDER;this.lastBlink=0,this.blinkActive=!1},updateEnemyIndex:function(){var%20a=document.getElementsByTagName(%22*%22);this.enemyIndex=[];for(var%20b,c=0;b=a[c];c++)this.isDestroyable(b)%26%26(this.enemyIndex.push(b),b.KICKASSOLDBORDER=b.style.outline||document.defaultView.getComputedStyle(b,null).outline);this.nextUpdate=this.updateDelay},isDestroyable:function(a,b){if(this.shouldIgnoreElement(a,b))return!1;for(var%20c,d=0;c=a.childNodes[d];d++)if(1===c.nodeType%26%26-1===Z.indexOf(c.tagName)%26%26c.offsetWidth%3E=$%26%26c.offsetHeight%3E=$%26%26%22hidden%22!==document.defaultView.getComputedStyle(c,null).visibility)return!1;return!0},isDestroyableFromCollision:function(a){return%20this.isDestroyable(a,!0)},shouldIgnoreElement:function(a,b){if(1!==a.nodeType)return!0;if(a==document.documentElement||a==document.body)return!0;if(-1!==Z.indexOf(a.tagName))return!0;if(%22hidden%22==a.style.visibility||%22none%22==a.style.display)return!0;if(%22string%22==typeof%20a.className%26%26-1!=a.className.indexOf(%22KICKASSELEMENT%22))return!0;if(!b%26%26(a.offsetWidth%3C$||a.offsetHeight%3C$))return!0;var%20c;return!!((0%3Ea.offsetLeft||0%3Ea.offsetTop)%26%26(c=u(a),0%3Ec.left+c.width||0%3Ec.top+c.height))||(c||(c=u(a)),!!(c.top%3E=this.game.scrollSize.y))},destroy:function(){for(var%20a%20in%20this.bullets)if(this.bullets.hasOwnProperty(a))for(var%20b,c=0;b=this.bullets[a][c];c++)b.destroy();this.bullets={}}}),aa=new%20H({initialize:function(a){this.game=a,this.isPlaying=!1},update:function(a){this.isPlaying%26%260==this.game.bulletManager.enemyIndex.length%26%26this.weHaveWon()},weHaveWon:function(){this.isPlaying=!1,this.game.ui.showMessage(%22You're%20done!%22),this.game.isCampaign()%3F(this.game.menuManager.showMenu(),this.game.menuManager.navigateTo(%22highscores%22)):this.game.menuManager.showMenu(),this.game.menuManager.sendMessageToMenu(%22gameFinished:!%22)}}),ba=new%20H({initialize:function(a){this.game=a,this.explosions=[]},update:function(a){for(var%20b,c=k(),d=0;b=this.explosions[d];d++){if(c-b.bornAt%3E(b.ttl||500)){b.destroy(),this.explosions.splice(d,1);continue}b.update(a)}},addExplosion:function(a,b,c){c=c||ia;var%20d=new%20c(a,b);d.game=this.game,d.checkBounds(),this.explosions.push(d),this.game.audioManager.explosion%26%26this.game.audioManager.explosion.play()},destroy:function(){for(var%20a,b=0;a=this.explosions[b];b++)a.destroy();this.explosions=[]}}),ca=new%20H({initialize:function(a,b,c,d,e){this.player=a,this.game=b,this.pos=new%20I(c,d),this.angle=e||0},shootPressed:function(){},shootReleased:function(){},checkCollisions:function(){},getExplosionClass:function(){return%20ia},update:function(a){this.game.hideAll(),this.checkCollisions(a),this.game.showAll()},checkCollision:function(a){var%20c=a.checkCollision();return!!c%26%26(this.game.explosionManager.addExplosion(a.pos,c,this.getExplosionClass()),this.game.menuManager.addPoints(b(c.getElementsByTagName(%22*%22).length+1,100),a.pos),c.isShot||c.parentNode.removeChild(c),this.game.statisticsManager%26%26this.game.statisticsManager.addElementsDestroyed(),!0)},createBullet:function(a){var%20b=this.getABulletPos(),c=this.getABulletDir(),d=new%20a(b,c);return%20d.game=this.game,d.manager=this,d.initCanvas(),d.vel.add(d.vel.cp().setLength(this.player.vel.len())),d},getABulletPos:function(){return%20this.player.pos.cp().add(this.pos.cp().rotate(this.player.dir.angle()+c/2))},getABulletDir:function(){return%20this.player.dir.cp().rotate(this.angle)},destroy:function(){}}),da=new%20H({Extends:ca,initialize:function(a,b,c,d,e){ca.prototype.initialize.apply(this,arguments),this.lasers=[]},getExplosionClass:function(){return%20ka},update:function(a){this.lasers.length%26%26(this.removeOld(),ca.prototype.update.call(this,a))},checkCollisions:function(a){for(var%20b,c=0;b=this.lasers[c];c++)b.update(a),this.checkCollision(b)},removeOld:function(){for(var%20a,b=0;a=this.lasers[b];b++)a.outOfBounds%26%26(a.destroy(),this.lasers.splice(b,1))},shootPressed:function(){5%3Cthis.lasers.length||500%3Ek()-this.lastFired||(this.lastFired=k(),this.game.statisticsManager%26%26this.game.statisticsManager.addShotFired(),this.lasers.push(this.createBullet(ga)))},destroy:function(){if(this.lasers.length){for(var%20a,b=0;a=this.lasers[b];b++)a.destroy();this.lasers=[]}}}),ea=new%20H({Extends:ca,initialize:function(){ca.prototype.initialize.apply(this,arguments),this.lastFired=0,this.bullets=[]},getExplosionClass:function(){return%20ia},update:function(a){this.bullets.length%26%26(this.removeOld(),ca.prototype.update.call(this,a))},removeOld:function(){for(var%20a,b=k(),c=0;a=this.bullets[c];c++)2e3%3Cb-a.bornAt%26%26(a.destroy(),this.bullets.splice(c,1))},checkCollisions:function(a){for(var%20b,c=0;b=this.bullets[c];c++)b.update(a),this.checkCollision(b)%26%26(b.destroy(),this.bullets.splice(c,1))},shootPressed:function(){200%3Ek()-this.lastFired||(this.lastFired=k(),this.addBullet(),this.game.statisticsManager%26%26this.game.statisticsManager.addShotFired())},addBullet:function(){7%3Cthis.bullets.length%26%26(this.bullets[0].destroy(),this.bullets.shift());var%20a=this.createBullet(fa);this.bullets.push(a)},destroy:function(){for(var%20a,b=0;a=this.bullets[b];b++)a.destroy();this.bullets=[]}}),fa=new%20H({initialize:function(a,b){this.pos=a.cp(),this.dir=b,this.vel=new%20I(500,500),this.bornAt=k()},initCanvas:function(){this.sheet=new%20oa(new%20J(this.pos.x,this.pos.y,5,5)),this.sheet.drawBullet()},draw:function(){this.sheet.setPosition(this.pos)},update:function(a){this.pos.add(this.vel.setAngle(this.dir.angle()).mulNew(a)),this.checkBounds(),this.draw()},checkCollision:function(){var%20a=document.elementFromPoint(this.pos.x,this.pos.y);a%26%263==a.nodeType%26%26(a=a.parentNode);var%20b=!!(a%26%26this.game.bulletManager.isDestroyableFromCollision(a))%26%26a;return%20b},checkBounds:function(){var%20a=this.game.windowSize.width,b=this.game.windowSize.height,c=this.pos.x+this.sheet.rect.size.width/2,d=this.pos.y+this.sheet.rect.size.height/2;c%3Ea%3Fthis.pos.x=0:0%3Ethis.pos.x%26%26(this.pos.x=a-this.sheet.rect.size.width/2),d%3Eb%3Fthis.pos.y=0:0%3Ethis.pos.y%26%26(this.pos.y=b-this.sheet.rect.size.height/2)},destroy:function(){this.sheet.destroy()}}),ga=new%20H({Extends:fa,initialize:function(){fa.prototype.initialize.apply(this,arguments),this.vel=new%20I(750,750),this.lastDrawPos=this.pos.cp()},initCanvas:function(){var%20a=g(L.laserImage.width,L.laserImage.height);this.sheet=new%20oa(new%20J(0,0,a,a))},update:function(a){fa.prototype.update.apply(this,arguments)},draw:function(){this.sheet.drawLaser(this.pos,this.dir),this.lastDrawPos=this.pos.cp()},checkBounds:function(){var%20a=this.game.windowSize.width,b=this.game.windowSize.height,c=this.pos.x+this.sheet.rect.size.width/2,d=this.pos.y+this.sheet.rect.size.height/2;(c%3Ea||0%3Ethis.pos.x)%26%26(this.outOfBounds=!0),(d%3Eb||0%3Ethis.pos.y)%26%26(this.outOfBounds=!0)},destroy:function(){this.sheet.destroy()}});L.laserImage=document.createElement(%22img%22),L.laserImage.src=L.path(%22css/gfx/kickass/laser.png%22);var%20ha=new%20H({initialize:function(a,b){this.bornAt=k(),this.pos=a.cp()},update:function(a){},checkBounds:function(){},destroy:function(){}}),ia=new%20H({Extends:ha,initialize:function(a,b){ha.prototype.initialize.apply(this,arguments),this.particleVel=new%20I(150,0),this.particles=[],this.generateParticles(),this.sheet=new%20oa(new%20J(a.x,a.y,250,250))},update:function(a){for(var%20b,c=0;b=this.particles[c];c++)b.pos.add(b.vel.mulNew(a).mul(t(.5,1)).setAngle(b.dir.angle()));this.sheet.clear(),this.sheet.drawExplosion(this.particles)},generateParticles:function(){for(var%20a=0,b=L.hasCanvas%3F40:10;a%3Cb;a++)this.particles.push({dir:new%20I(t(0,20)-10,t(0,20)-10).normalize(),vel:this.particleVel.cp(),pos:new%20I(0,0),color:[%22yellow%22,%22red%22][t(0,1)]})},checkBounds:function(){var%20a=this.sheet.rect.getRight(),b=this.sheet.rect.getBottom(),c=this.game.windowSize.width,d=this.game.windowSize.height;a%3Ec%26%26(this.pos.x-=a-c),b%3Ed%26%26(this.pos.y-=b-d),this.sheet.setPosition(this.pos)},destroy:function(){this.sheet.destroy()}}),ja=new%20H({Extends:ia,initialize:function(a,b){ha.prototype.initialize.apply(this,arguments),this.particleVel=new%20I(200,0),this.particles=[],this.generateParticles(),this.sheet=new%20oa(new%20J(a.x,a.y,500,500)),this.ttl=2e3,this.generationDelay=.6,this.generationTimes=2,this.nextGenerate=this.generationDelay},update:function(a){this.nextGenerate-=a,0%3E=this.nextGenerate%26%260%3Cthis.generationTimes%26%26(this.nextGenerate=this.generationDelay,this.generateParticles(),this.generationTimes--),ia.prototype.update.call(this,a)}}),ka=new%20H({Extends:ha,initialize:function(a,b){b%26%26(ha.prototype.initialize.apply(this,arguments),this.element=b,this.fx=new%20K,this.fx.addListener(this),this.start())},update:function(a){this.element%26%26this.fx.update()},set:function(a,b){%22opacity%22==a},start:function(){var%20a=this.createClones(),b=a[0],c=a[1],d=%22rotate(-%22+t(30,50)+%22deg)%20translate(-100px,%2040px)%22,e=%22rotate(%22+t(30,50)+%22deg)%20translate(100px,%2040px)%22;x(b,{transform:d}),x(c,{transform:e}),this.left=b,this.right=c,this.fx.add(%22opacity%22,{start:1,end:.5,duration:500})},createClones:function(){var%20a=u(this.element),b=this.createContainer(a),c=this.createContainer(a),d=B(this.element),e=B(this.element);z(d,%22KICKASSELEMENT%22),z(e,%22KICKASSELEMENT%22);var%20f={margin:0,overflow:%22hidden%22};return%20x(d,f),x(e,f),b.appendChild(d),c.appendChild(e),c.style.left=a.left+a.width/2+%22px%22,c.scrollLeft+=a.width/2,this.element.style.opacity=0,this.element.style.visibility=%22hidden%22,this.element.style.display=%22none%22,m([b,c],function(a){a.style.transition=%22transform%20500ms%20ease-in%22})},createContainer:function(a){var%20b=document.createElement(%22div%22);return%20x(b,{position:%22absolute%22,left:a.left,top:a.top,width:.5*a.width,height:a.height,overflow:%22hidden%22}),E().appendChild(b),b},destroy:function(){try{this.left.parentNode.removeChild(this.left),this.right.parentNode.removeChild(this.right),this.element.parentNode.removeChild(this.element)}catch(a){}}}),la={1:{name:%22Cannon%22,id:%22cannon%22,cannonClass:ea},2:{name:%22Laser%22,id:%22laser%22,cannonClass:da}},ma={cannon:la[1],laser:la[2]},na=new%20H({initialize:function(a){this.canvas=document.createElement(%22canvas%22),this.canvas.className=%22KICKASSELEMENT%22;with(this.canvas.style)position=%22absolute%22,zIndex=%221000000%22;L.kickass.registerElement(this.canvas),this.canvas.getContext%26%26(this.ctx=this.canvas.getContext(%222d%22)),this.rect=a,this.angle=0,this.updateCanvas(),E().appendChild(this.canvas)},tracePoly:function(a){if(a[0]){this.ctx.save(),this.ctx.translate(this.rect.size.width/2,this.rect.size.height/2),this.ctx.rotate(this.angle),this.ctx.beginPath(),this.ctx.moveTo(a[0].x,a[0].y);for(var%20b=0;b%3Ca.length;b++)this.ctx.lineTo(a[b].x,a[b].y);this.ctx.restore()}},setAngle:function(a){this.angle=a},updateCanvas:function(){this.canvas.width!=this.rect.size.width%26%26(this.canvas.width=this.rect.size.width),this.canvas.height!=this.rect.size.height%26%26(this.canvas.height=this.rect.size.height),this.canvas.style.left=L.kickass.scrollPos.x+(this.rect.pos.x-this.rect.size.width/2)+%22px%22,this.canvas.style.top=L.kickass.scrollPos.y+(this.rect.pos.y-this.rect.size.height/2)+%22px%22},drawLine:function(a,b,c,d){this.ctx.save(),this.ctx.translate(this.rect.size.width/2,this.rect.size.height/2),this.ctx.beginPath(),this.ctx.moveTo(a,b),this.ctx.lineTo(c,d),this.ctx.closePath(),this.ctx.stroke(),this.ctx.restore()},drawCircle:function(a,b){b=b||{x:0,y:0},this.ctx.save(),this.ctx.translate(this.rect.size.width/2,this.rect.size.height/2),b%26%26this.ctx.translate(b.x,b.y),this.ctx.beginPath(),this.ctx.arc(0,0,a,0,2*c,!0),this.ctx.fill(),this.ctx.closePath(),this.ctx.restore()},drawRect:function(a,b,c,d){this.ctx.save(),this.ctx.translate(this.rect.size.width/2,this.rect.size.height/2),this.ctx.translate(a,b),this.ctx.fillRect(a,b,c,d),this.ctx.restore(),this.ctx.fill()},drawImageFull:function(a){this.ctx.drawImage(a,0,0,this.rect.size.width,this.rect.size.height)},drawImage:function(a,b,c){this.ctx.save(),this.ctx.translate(this.rect.size.width/2+b,this.rect.size.height/2+c),this.ctx.rotate(this.angle),this.ctx.drawImage(a,0,-11),this.ctx.restore()},setFillColor:function(a){this.ctx.fillStyle=a},setStrokeColor:function(a){this.ctx.strokeStyle=a},setLineWidth:function(a){this.ctx.lineWidth=a},fillPath:function(){this.ctx.fill()},strokePath:function(){this.ctx.stroke()},clear:function(){this.ctx.clearRect(0,0,this.rect.size.width,this.rect.size.height)},destroy:function(){L.kickass.unregisterElement(this.canvas),this.canvas.parentNode.removeChild(this.canvas)}}),oa=new%20H({initialize:function(a){this.rect=a,this.drawer=new%20na(a)},clear:function(){this.drawer.clear()},setPosition:function(a){this.rect.pos=a.cp(),this.drawer.rect=this.rect,this.drawer.updateCanvas()},setAngle:function(a){this.drawer.setAngle(a)},drawPlayer:function(a){this.drawer.setFillColor(%22white%22),this.drawer.setStrokeColor(%22black%22),this.drawer.setLineWidth(1.5),this.drawer.tracePoly(a),this.drawer.fillPath(),this.drawer.tracePoly(a),this.drawer.strokePath()},drawBrokenPlayer:function(a,b){this.drawer.setStrokeColor(%22black%22),this.drawer.setLineWidth(1.5);for(var%20c,d,e=1,f=a[0];c=a[e];e++,f=c)d=b[e-1],this.drawer.drawLine(f.x+d.pos.x,f.x+d.pos.y,c.x+d.pos.x,c.y+d.pos.y)},drawFlames:function(a,b){this.drawer.setLineWidth(1.5),this.drawer.setFillColor(%22red%22),this.drawer.tracePoly(a.r),this.drawer.fillPath(),this.drawer.setFillColor(%22yellow%22),this.drawer.tracePoly(a.y),this.drawer.fillPath()},drawBullet:function(){this.drawer.setFillColor(L.bulletColor),this.drawer.drawCircle(2.5)},drawExplosion:function(a){for(var%20b,c=0;b=a[c];c++)this.drawer.setFillColor(b.color),this.drawer.drawRect(b.pos.x,b.pos.y,3,3)},drawFace:function(a){this.drawer.drawImageFull(a)},drawLaser:function(a,b){this.clear(),this.setPosition(a),this.drawer.setAngle(b.angle()),this.drawer.drawImage(L.laserImage,0,0)},transformToSheetCoordinates:function(a){var%20b=a.cp().sub(new%20I(this.rect.size.width/2,this.rect.size.height/2));return%20b},destroy:function(){this.drawer.destroy()}}),pa=j(),qa=function(){if(!!pa.KICKASSGAME)pa.KICKASSGAME.addPlayer();else%20if(pa.KICKASS_SITE_KEY){var%20a=new%20P(pa.KICKASS_SITE_KEY);a.load(function(b){pa.KICKASSGAME=L.kickass=new%20N({mySite:!!b%26%26a}),pa.KICKASSGAME.begin()})}else%20pa.KICKASSGAME=L.kickass=new%20N,pa.KICKASSGAME.begin()};pa.LAZYLOAD_KICKASS%3Fa.startBrowserBlaster=qa:qa()})(%22undefined%22==typeof%20exports%3Fwindow:exports)}();)
